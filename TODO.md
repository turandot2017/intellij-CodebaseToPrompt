# Codebase2Prompt 插件开发 TODO 列表

## 1. 项目初始化 ✓
- [x] 创建 IntelliJ IDEA 插件项目
  - 使用 IntelliJ Platform Plugin Template 创建项目
  - 配置 Gradle 构建系统
  - 设置项目 JDK 为 11 或更高版本
  - 设置项目编码为 UTF-8
- [x] 配置项目基本信息（plugin.xml）
  - 设置插件名称: Codebase2Prompt
  - 设置插件版本: 1.0.1
  - 设置插件描述: 一个帮助开发人员快速生成代码相关 Prompt 的插件
  - 设置兼容的 IDE 版本范围: 2021.1+
  - 设置插件类别: Development Tools
  - 设置作者信息
- [x] 设置项目依赖
  - 添加 IntelliJ Platform SDK
  - 添加必要的 IntelliJ Platform 依赖项
  - 添加其他必要的第三方库依赖
- [x] 创建基本的项目结构
  - 创建 src/main/java 目录
  - 创建 src/main/resources 目录
  - 创建基础包结构和资源文件目录

## 2. UI 组件开发
### 2.1 主界面按钮 ✓
- [x] 在 "Find in Files" 界面添加 "Codebase2Prompt" 按钮
- [x] 实现基本的文件列表获取功能

### 2.2 弹出窗口
- [x] 创建主窗口类 (PromptGeneratorDialog)
  - [x] 实现基本的对话框布局
  - [x] 设置窗口标题和大小
  - [x] 添加关闭按钮和事件处理

- [x] 实现上方工具栏
  - [x] 创建工具栏面板
  - [x] 添加并实现帮助按钮
    - [x] 创建帮助对话框
    - [x] 编写帮助内容
  - [x] 添加并实现展开/折叠按钮
  - [x] 添加并实现全选/全不选按钮
  - [x] 添加并实现复制按钮
    - [x] 实现剪贴板操作
    - [x] 添加复制成功提示

- [x] 实现左侧文件树
  - [x] 创建自定义的树形组件
  - [x] 实现文件选择框功能
  - [x] 实现目录展开/折叠功能
  - [x] 添加文件图标支持
  - [x] 实现选择状态变化监听

- [x] 实现底部状态栏
  - [x] 创建状态栏组件
  - [x] 实现文件计数显示
  - [x] 实现 Tokens 计数显示

## 3. 核心功能实现
### 3.1 Prompt 生成
- [x] 创建 PromptGenerator 类
  - [x] 实现文件夹结构生成
  - [x] 实现文档内容生成
  - [x] 实现格式化功能

### 3.2 Tokens 计算
- [x] 创建 TokenCounter 类
  - [x] 研究并实现分词算法
  - [x] 实现 Tokens 数量估算
  - [x] 优化计算性能

## 4. 异常处理和错误提示
- [ ] 创建 ErrorHandler 类
  - [ ] 实现文件读取异常处理
  - [ ] 实现 UI 操作异常处理
  - [ ] 添加用户友好的错误提示

## 5. 性能优化
- [ ] 实现大文件处理策略
  - [ ] 添加文件大小检查
  - [ ] 实现分块读取机制
- [x] 优化 UI 更新机制
  - [x] 实现目录选择的批量更新


## 6. 测试
### 6.1 单元测试
- [ ] PromptGenerator 测试
- [ ] TokenCounter 测试

### 6.2 集成测试
- [ ] UI 组件集成测试
- [ ] 功能流程测试
- [ ] 跨平台兼容性测试


## 7. 国际化支持
- [ ] 实现多语言支持框架
  - [ ] 创建资源文件
    - [ ] 创建中文资源文件 (messages_zh.properties)
    - [ ] 创建英文资源文件 (messages_en.properties)
  - [ ] 实现语言检测和切换机制
- [ ] UI 文本国际化
  - [ ] 主窗口文本
  - [ ] 帮助内容
  - [ ] 提示信息
  - [ ] 错误信息
- [ ] 测试国际化功能
  - [ ] 中文环境测试
  - [ ] 英文环境测试
  - [ ] 语言切换测试

## 8. 文档编写
- [x] 编写中文 README.md
  - [x] 项目简介
  - [x] 功能特点
  - [x] 安装说明
  - [x] 使用教程
- [x] 编写英文 README.md
  - [x] Project Introduction
  - [x] Features
  - [x] Installation Guide
  - [x] Usage Tutorial

## 9. 插件市场发布准备
- [ ] 完善插件描述
  - [ ] 编写详细的功能介绍
  - [ ] 编写插件特点说明
  - [ ] 编写使用场景描述
- [ ] 准备插件市场素材
  - [ ] 设计并制作插件 Logo
  - [ ] 制作功能展示截图
    - [ ] 主界面截图
    - [ ] 功能使用截图
    - [ ] 效果展示截图
  - [ ] 制作功能演示 GIF
- [ ] 编写插件市场文档
  - [ ] 中文版本
  - [ ] 英文版本
- [ ] 发布前测试
  - [ ] 功能完整性测试
  - [ ] 兼容性测试
  - [ ] 性能测试

## 10. 打包和部署
- [ ] 配置构建脚本
- [ ] 生成插件包
- [ ] 编写安装指南
- [ ] 测试安装流程
- [ ] 发布到插件市场
  - [ ] 提交审核材料
  - [ ] 处理审核反馈
  - [ ] 正式发布

## 注意事项
- 确保跨平台兼容性
- 保持代码结构清晰，便于维护
- 注意异常处理和错误提示
- 确保文档的中英文内容保持同步
- 保持插件市场材料的专业性和完整性 