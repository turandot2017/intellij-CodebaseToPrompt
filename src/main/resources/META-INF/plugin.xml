<idea-plugin>
    <id>com.github.codebase2prompt</id>
    <name>Codebase2Prompt</name>
    <vendor url="https://github.com/turandot2017/intellij-CodebaseToPrompt">github</vendor>
    <description><![CDATA[
        <h2>Codebase2Prompt</h2>
        <p>A plugin that helps developers quickly generate code-related prompts. It intelligently organizes searched code files into structured prompts, facilitating code analysis and problem consultation in Large Language Models (LLMs).</p>

        <p>This tool is inspired by <a href="https://github.com/hello-nerdo/CodebaseToPrompt">CodebaseToPrompt</a>, implemented as an IntelliJ plugin for convenient use within the IDE.</p>

        <p><img src="https://yr-pic.yunrong.cn/md/202501161235101.png" alt="plugin screenshot" width="600"/></p>

        <h3>Key Features:</h3>
        <ul>
            <li>ğŸ” Seamless integration with IDEA's "Find in Files" functionality</li>
            <li>ğŸ“ Interactive file selection with directory tree view</li>
            <li>ğŸ”„ Real-time generation of formatted prompts</li>
            <li>ğŸ“Š Automatic token usage estimation</li>
            <li>ğŸ“‹ One-click copying of generated prompts and file lists</li>
            <li>ğŸŒ³ Folder structure visualization</li>
            <li>ğŸ¯ Batch file selection and quick operations</li>
            <li>ğŸ’¡ Smart suggestions and user-friendly interface</li>
        </ul>

        <h3>How to Use:</h3>
        <ol>
            <li>Use "Find in Files" in IDEA to search for relevant code</li>
            <li>Click the "Codebase2Prompt" button in the search results interface</li>
            <li>Select the files you want to include in the popup window</li>
            <li>Click the copy button to get the generated prompt</li>
            <li>Paste the prompt into your LLM chat window</li>
            <li>Note: Find in Files displays up to 100 matches by default. To adjust this limit, go to Settings > Advanced Settings > Find in Files and change it to 1000.</li>
        </ol>

        <p>Source code: <a href="https://github.com/turandot2017/intellij-CodebaseToPrompt">https://github.com/turandot2017/intellij-CodebaseToPrompt</a></p>

        <p>For issues or suggestions, please submit an issue or pull request on GitHub.</p>

        <hr/>

        <h2>ä¸­æ–‡è¯´æ˜</h2>
        <p>ä¸€ä¸ªå¸®åŠ©å¼€å‘äººå‘˜å¿«é€Ÿç”Ÿæˆä»£ç ç›¸å…³ Prompt çš„æ’ä»¶ã€‚å®ƒèƒ½å¤Ÿå°†æœç´¢åˆ°çš„ä»£ç æ–‡ä»¶æ™ºèƒ½åœ°ç»„ç»‡æˆç»“æ„åŒ–çš„æç¤ºä¿¡æ¯ï¼Œæ–¹ä¾¿åœ¨å¤§å‹è¯­è¨€æ¨¡å‹(LLM)ä¸­è¿›è¡Œä»£ç åˆ†æå’Œé—®é¢˜å’¨è¯¢ã€‚</p>

        <p>æœ¬å·¥å…·å‚è€ƒ <a href="https://github.com/hello-nerdo/CodebaseToPrompt">CodebaseToPrompt</a> çš„åŠŸèƒ½ï¼Œå®ç° Intellij çš„æ’ä»¶ç‰ˆï¼Œæ–¹ä¾¿åœ¨æ’ä»¶ä¸­ä½¿ç”¨ã€‚</p>

        <h3>ä¸»è¦åŠŸèƒ½ï¼š</h3>
        <ul>
            <li>ğŸ” ä¸ IDEA çš„ "Find in Files" åŠŸèƒ½æ— ç¼é›†æˆ</li>
            <li>ğŸ“ äº¤äº’å¼æ–‡ä»¶é€‰æ‹©ï¼Œæ”¯æŒç›®å½•æ ‘å±•ç¤º</li>
            <li>ğŸ”„ å®æ—¶ç”Ÿæˆæ ¼å¼åŒ–çš„ Prompt å†…å®¹</li>
            <li>ğŸ“Š è‡ªåŠ¨ä¼°ç®— Tokens ä½¿ç”¨é‡</li>
            <li>ğŸ“‹ ä¸€é”®å¤åˆ¶ç”Ÿæˆçš„ Prompt, æ–‡ä»¶åˆ—è¡¨</li>
            <li>ğŸŒ³ æ”¯æŒæ–‡ä»¶å¤¹ç»“æ„å¯è§†åŒ–</li>
            <li>ğŸ¯ æ”¯æŒæ‰¹é‡æ–‡ä»¶é€‰æ‹©å’Œå¿«é€Ÿæ“ä½œ</li>
            <li>ğŸ’¡ æ™ºèƒ½æç¤ºå’Œå‹å¥½çš„ç”¨æˆ·ç•Œé¢</li>
        </ul>

        <h3>ä½¿ç”¨æ–¹æ³•ï¼š</h3>
        <ol>
            <li>åœ¨ IDEA ä¸­ä½¿ç”¨ "Find in Files" æœç´¢ç›¸å…³ä»£ç </li>
            <li>ç‚¹å‡»æœç´¢ç»“æœç•Œé¢ä¸­çš„ "Codebase2Prompt" æŒ‰é’®</li>
            <li>åœ¨å¼¹å‡ºçª—å£ä¸­é€‰æ‹©éœ€è¦åŒ…å«çš„æ–‡ä»¶</li>
            <li>ç‚¹å‡»å¤åˆ¶æŒ‰é’®è·å–ç”Ÿæˆçš„ Prompt</li>
            <li>å°† Prompt ç²˜è´´åˆ° LLM å¯¹è¯çª—å£ä¸­ä½¿ç”¨</li>
            <li>æç¤º: Find in Files é»˜è®¤æ˜¾ç¤º 100 æ¡åŒ¹é…ç»“æœã€‚å¦‚éœ€è°ƒæ•´ï¼Œå¯åœ¨ Settings > Advanced Settings > Find in Files ä¸­å°†é™åˆ¶è°ƒæ•´ä¸º 1000 æ¡ã€‚</li>

        </ol>

        <p>å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨ GitHub ä¸Šæäº¤ issue æˆ– pull requestã€‚</p>
    ]]></description>

    <change-notes><![CDATA[
        <h3>Release Notes:</h3>
        <ul>
            <li><b>V1.0.5</b>
                <ul>
                    <li>Large file handling optimization:</li>
                    <ul>
                        <li>Enhancement: Integrated IDEA native editor component for Prompt display, significantly improving UI responsiveness</li>
                    </ul>
                </ul>
            </li>
            <li><b>V1.0.4</b>
                <ul>
                    <li>Added file selection management features:</li>
                    <ul>
                        <li>Support saving current file selection with name and description</li>
                        <li>View and manage historical selection records</li>
                        <li>One-click loading of historical selections</li>
                        <li>Delete unwanted selection records</li>
                    </ul>
                </ul>
            </li>
            <li><b>V1.0.3</b>
                <ul>
                    <li>Fixed version compatibility issues for IDEA 2020.1~2024.3</li>
                </ul>
            </li>
        </ul>

        <hr/>

        <h3>æ›´æ–°æ—¥å¿—:</h3>
        <ul>
            <li><b>V1.0.5</b>
                <ul>
                    <li>å¤§æ–‡ä»¶å¤„ç†ä¼˜åŒ–ï¼š</li>
                    <ul>
                        <li>ä¼˜åŒ–: é‡‡ç”¨ IDEA åŸç”Ÿç¼–è¾‘å™¨ç»„ä»¶å±•ç¤º Promptï¼Œæ˜¾è‘—æå‡ç•Œé¢å“åº”é€Ÿåº¦</li>
                    </ul>
                </ul>
            </li>
            <li><b>V1.0.4</b>
                <ul>
                    <li>æ–°å¢æ–‡ä»¶é€‰æ‹©ç®¡ç†åŠŸèƒ½ï¼š</li>
                    <ul>
                        <li>æ”¯æŒä¿å­˜å½“å‰æ–‡ä»¶é€‰æ‹©ï¼Œå¯è®¾ç½®åç§°å’Œæè¿°</li>
                        <li>æ”¯æŒæŸ¥çœ‹å’Œç®¡ç†å†å²é€‰æ‹©è®°å½•</li>
                        <li>æ”¯æŒä¸€é”®åŠ è½½å†å²é€‰æ‹©</li>
                        <li>æ”¯æŒåˆ é™¤ä¸éœ€è¦çš„é€‰æ‹©è®°å½•</li>
                    </ul>
                </ul>
            </li>
            <li><b>V1.0.3</b>
                <ul>
                    <li>ä¿®å¤ IDEA 2020.1~2024.3 çš„ç‰ˆæœ¬å…¼å®¹é—®é¢˜</li>
                </ul>
            </li>
        </ul>
    ]]></change-notes>

    <depends>com.intellij.modules.platform</depends>

<!-- applicationListeners åœ¨ä¸Šæ¶æ—¶è¯´æ˜¯å†…éƒ¨API, ä¸å»ºè®®ä½¿ç”¨ -->
<!--    <applicationListeners>-->
<!--        <listener class="com.github.codebase2prompt.action.FindInFilesListener$App" topic="com.intellij.ide.AppLifecycleListener"/>-->
<!--    </applicationListeners>-->
    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="com.github.codebase2prompt.action.FindInFilesListener$FindInFilesStartupActivity"/>
        <projectService 
            serviceImplementation="com.github.codebase2prompt.storage.FileSelectionStorage"/>
    </extensions>
    <actions>
    </actions>
</idea-plugin> 